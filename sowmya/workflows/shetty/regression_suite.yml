name :Regression suite
on: 
   push : 
      branches :
         - main
  pull_request:
      branches:
        - main
   schedule:
      - cron 30 2 * * * 1-5
 jobs:
    run-test:
      run-on:windows-latest
    steps:
      - name: Checkout code
        uses:actions/checkout@v3
  
      - name : Set up python
        uses: actions/setup-python@v3
        with:
          python-version:'3.9'
  
        - name : Install dependencies
          run:
             python -m pip instakk --upgrade pip
             pip install - r requirements.txt
        - name: Run test
          run: pytest --html=reports/report.html -s -v --self-contained-html
          
        - name : upload report
          uses:actions/upload-artifact@v3
          with:
             name: pytest-report
             path: report.html
        
